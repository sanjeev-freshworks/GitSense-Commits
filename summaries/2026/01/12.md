# Activity Summary for 1/12/2026

## 3:43:46 AM
The `Untitled-3` log, timestamped `1/9/2026, 2:05:46 PM`, details conceptual design, pseudo-code, and extensive to-do lists for several features.

The primary focus is on **Notification Burst Grooming**, outlining a mechanism to detect and handle bursts of notifications. This involves using a deque (doubly-ended queue) to store recent notification timestamps, specifically `T0, T1, T2, ...`, and a boolean flag `isSpecialNotificationShown`. A burst is identified if `C` notifications are received within `T` time. The pseudo-code details the logic for pushing/popping elements from the deque, comparing notification times (`T3 - T0 < T`), and conditionally showing a special notification, discarding subsequent notifications, or resetting the burst state. Example scenarios with specific time values (`T=15, C=3`) are provided to illustrate the logic.

A comprehensive list of **Todo/Suggestions** related to the notification burst feature is included:
*   Controlling special notification display (multiple times, ID, position, icon, title with account name).
*   Testing for double account IDs and automating notifications.
*   Refining deque reset logic and potential injection of `gson`.
*   Adding setters/getters for `shouldShowSpecialNotification` and `accountId` in `ListNotificationViewModel`.
*   Considering renaming `NotificationBurstItem` to `SafeNotificationItem`.

Another significant section covers the **App Review and Rating Prompt**. The design outlines conditions for showing the prompt, including resetting a counter for 90 days after it's shown, and incrementing it otherwise. **App Review TODOs** include testing the current code, refactoring `AppReviewManager` and `AppStore`.

A **Questions** section is divided into `Unanswered` and `Answered` items.
*   `Unanswered` questions touch upon module separation for new features and whether a twice-called API (`update tasks api`) should be fixed.
*   `Answered` questions address asset validity for ticket changes, agent ticket creation, data loss on uninstall, Github PR strategy for refactoring (recommended separate PR), and the implementation of on-call detection (just increment when `ShiftEventActivity` is opened, use shared preferences, persona independent).

Recurring elements across the log include:
*   The use of `T` (time) and `C` (count) thresholds for event triggering.
*   Detailed pseudo-code examples to clarify complex logic.
*   Extensive task lists and Q&A sections, indicating an ongoing design and development phase.
*   Mentions of UI/UX considerations like notification icons, positions, and click events.
*   A brief note about replacing PNGs with SVGs and handling MDM Browser Config rotation.

## 5:20:36 AM
The `Untitled-3` log entry, timestamped 1/9/2026, 2:05:46 PM, details two primary feature discussions and their associated development tasks.

The first major section outlines the proposed logic for a "Notification Burst" feature. This system uses a deque (`back[]front`) to manage incoming notifications, detecting a "burst" when `C` notifications are received within a `T` time threshold. It includes a `isSpecialNotificationShown` flag to control the display of a special notification, along with detailed step-by-step examples (e.g., `T=15, C=3`) illustrating how notifications are pushed, popped, and evaluated against time differences. A significant portion of this section is dedicated to "Todo / suggestions," covering improvements such as showing special notifications multiple times, managing their ID and position, testing edge cases (double account IDs), automating notifications, refining deque reset logic, injecting Gson, displaying icons, adding click events, and renaming related classes.

The second major section focuses on an "App Review and Rating Prompt." The core logic dictates that the prompt counter should reset for 90 days after the prompt is shown, then resume incrementing. If the prompt hasn't been shown, the counter continues to increment. Tasks listed include testing the current code, refactoring `AppReviewManager` and `AppStore`, and addressing various design questions. These questions cover topics like module placement, API call redundancy, asset management, ticket creation roles, data persistence on uninstall, PR strategy for refactoring, user "oncall" status, and the use of shared preferences for counts. Further TODOs specify showing the prompt immediately upon logic achievement, not incrementing for browser cases in solution articles, and handling "seen" events.

Recurring elements include a strong emphasis on managing notification events, the use of time and count thresholds for specific behaviors, and a clear distinction between current implementation ideas/logic and future improvements or unanswered design questions. The log also frequently uses numerical examples and hypothetical timestamps to illustrate behavioral conditions.

## 7:12:12 AM
The `Untitled-3` file, timestamped 1/9/2026, 2:05:46 PM, appears to be a design document or a brainstorming session covering several distinct feature areas and their associated logic and tasks.

**File-Specific Updates for `Untitled-3`:**

*   **Notification Burst Logic:**
    *   Detailed pseudo-code and examples for implementing a "Notification Burst" feature.
    *   It uses a `deque` (or `list`) with a `front` and `back` pointer to track recent notifications.
    *   A "special notification" is triggered if `C` notifications are received within a `T` time threshold.
    *   Includes logic for handling burst scenarios (showing special notification, discarding subsequent notifications) and non-burst scenarios (showing normal notification, clearing the deque).
    *   Examples are provided with specific `T` and `C` values (e.g., T=15, C=3) and notification timestamps (T0, T5, T13, etc.) to illustrate the mechanism.
    *   A `isSpecialNotificationShown` flag manages the display of the special notification.
    *   There's a discussion about whether a notification should compare against all elements in the deque or just the oldest one for burst detection.

*   **Todo/Suggestions for Notifications:**
    *   A list of improvements and questions related to the special notification: showing it multiple times, notification ID, position control (e.g., bottom vs. top of group using `setSortKey`), icon display, click events, displaying title with account name, and attaching to groups.
    *   Testing requirements: double account IDs, automation.
    *   Implementation details: replacing `prevNotificationTime` with a list, refining deque reset logic, injecting Gson into `NotificationBurstConverter`, and adding setters/getters for `shouldShowSpecialNotification` and `accountId` in `ListNotificationViewModel`.
    *   Renaming suggestion: `NotificationBurstItem` to `SafeNotificationItem`.

*   **MDM Browser Config:**
    *   A brief note to handle rotation.

*   **App Review and Rating Prompt:**
    *   Defines the logic for showing the prompt:
        *   After the prompt is shown, reset the counter for 90 days, during which incrementing should not occur.
        *   After the 90-day period, start incrementing again.
        *   If the prompt hasn't been shown, keep incrementing.
    *   **TODOs:** Test the current app review code, refactor `AppReviewManager` and `AppStore`.
    *   **Questions (Unanswered):** Whether a separate module is needed, and if a double call to `update tasks api` should be fixed.
    *   **Questions (Answered/Decided):**
        *   Asset tickets and changes/closing tickets are valid.
        *   Agents can also create tickets.
        *   No need to detect "different" scenarios.
        *   Data loss on uninstall is acceptable.
        *   Refactoring should be a separate PR.
        *   No need to recognize if a user is on-call; simply increment when `ShiftEventActivity` is opened.
        *   Keep the logic persona independent and use shared preferences for counts (no account-wise or unique counts).
        *   Move the app review prompt logic from `HomeActivity` to `AppReviewManager` to allow it to be shown on any screen.
        *   **Action items:** Immediately show on the page where the logic was achieved, don't increment for browser solution articles, and show the prompt for "seen" events.

*   **Branch/Commit Notes:**
    *   A note about an unpushed commit for replacing `.png` with `.svg` files.

**Timestamp of Significant Changes:**

*   The entire content of `Untitled-3` is associated with a single timestamp: `1/9/2026, 2:05:46 PM`. This appears to be a placeholder or a future-dated planning timestamp.

**Patterns or Recurring Elements:**

*   **Feature-driven discussions:** The document outlines the requirements, logic, and implementation considerations for distinct features (notification bursts, app review prompts).
*   **Detailed logic and examples:** For complex features like notification bursts, pseudo-code and concrete examples are used to clarify the intended behavior.
*   **Task lists and open questions:** Each section includes "Todo," "Suggestions," or "Questions," indicating ongoing development, design decisions, and areas needing further investigation.
*   **Focus on mobile development specifics:** References to concepts like `deque`, `ViewModel`, `setSortKey`, `accountId`, `AppReviewManager`, `HomeActivity`, `ShiftEventActivity`, shared preferences, and `Room DB` indicate a mobile application context, likely Android.
*   **User experience considerations:** Emphasis is placed on how notifications and prompts are presented to the user (e.g., position, icon, click events, timing of app review prompts).
*   **Iterative development notes:** The presence of unpushed commits and refactoring suggestions highlights an ongoing development process.