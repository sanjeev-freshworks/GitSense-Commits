# Activity Summary for 1/14/2026

## 2:09:30 PM
The provided log, timestamped **1/9/2026, 2:05:46 PM**, details changes and ideas within a file named `Untitled-3`, covering several distinct areas of development:

**Notification Burst Detection:**
A core section outlines a notification burst detection algorithm using a deque (doubly-ended queue). The system aims to identify when `C` notifications are received within a `T` time threshold.
*   **Logic:** Notifications are pushed to the front of the deque. If the deque reaches `C` length and the time difference between the current notification and the oldest one in the deque (`T_current - T_oldest`) is less than `T`, it's considered a burst.
*   **Special Notification:** A `bool isSpecialNotificationShown` flag manages the display of a special notification, ensuring it's shown only once per burst or when conditions are met.
*   **Resetting:** If the time threshold is exceeded, the deque is cleared, and `isSpecialNotificationShown` is reset.
*   **Examples:** Detailed examples with `T = 15, C = 3` are provided, walking through various notification arrival times (`T0, T5, T13, T14, T28`) to illustrate the burst detection and special notification logic.
*   **Suggestions/Todos:** Numerous follow-up tasks are listed, including controlling special notification display frequency and position, integrating with specific components like `ListNotificationViewModel`, handling account IDs, and potential renaming of related classes.

**App Review and Rating Prompt:**
The log describes a logic for managing an in-app review and rating prompt:
*   **Counter Management:** When the prompt is shown, a counter should reset and not increment for the next 90 days. After 90 days, incrementing resumes. If the prompt hasn't been shown, the counter keeps incrementing.
*   **TODOs:** Tasks include testing the existing app review code, refactoring `AppReviewManager` and `AppStore`, immediately showing the prompt when conditions are met on a page, and avoiding increments for browser cases in solution articles.
*   **Questions:** Several design and implementation questions are addressed:
    *   A separate module for app review is not strictly required.
    *   The `update tasks api` being called twice is acknowledged as a potential fix.
    *   Confirmations on asset validity for ticket changes/closings and agent ticket creation.
    *   Guidance on handling "different" (don't detect), data loss on uninstall (acceptable).
    *   Confirmation that refactoring should be a separate PR.
    *   No need to identify "oncall" users; the counter increments when `ShiftEventActivity` is opened, using shared preferences without account-specific counts.
    *   The prompt should be shown on any screen where conditions are met, suggesting moving logic from `HomeActivity` to `AppReviewManager`.

**Miscellaneous:**
*   A brief mention of a pending branch for replacing `png` with `svg`.
*   A note on handling rotation for "MDM Browser Config."

**Recurring Elements:**
The log demonstrates a structured approach to development, with clear separation of feature logic (notification burst, app review), associated tasks/suggestions, and answered/unanswered questions. It frequently references mobile application specific components like `deque`, `gson`, `room db`, `R.string`, `ListNotificationViewModel`, `AppReviewManager`, `AppStore`, `HomeActivity`, and `ShiftEventActivity`, indicating development within an Android environment. There's a strong focus on user experience through controlled notifications and timely app review prompts.

## 3:09:33 PM
The log details changes in `Untitled-3` at `1/9/2026, 2:05:46 PM`, focusing on two primary areas: a "Notification Burst" logic and an "App Review and Rating Prompt" system, along with several general refactoring and improvement notes.

**File-specific updates for `Untitled-3`:**

*   **Notification Burst Logic:** A detailed algorithm is outlined for detecting notification bursts. This involves using a deque to store notification timestamps, checking if `C` notifications arrive within a `T` time threshold. If a burst is detected, a `isSpecialNotificationShown` flag is used to control the display of a special notification, which can either be shown once or discarded if already displayed. The logic includes conditions for clearing the deque and resetting the special notification flag if the time threshold is exceeded. Several examples with specific timestamps (`T=15, C=3`) are provided to illustrate the burst detection and confirm adherence to acceptance criteria.
*   **Notification Burst TODOs/Suggestions:** A comprehensive list of future tasks and considerations for the notification burst feature is present. These include:
    *   Allowing special notifications to be shown multiple times.
    *   Managing notification IDs and controlling the position of special notifications.
    *   Testing with double account IDs and automating notifications.
    *   Refining the deque resetting logic and potentially replacing `prevNotificationTime` with a list.
    *   Checking `gson` injection in `NotificationBurstConverter`.
    *   Enhancing the display of special notifications with account names, group attachment, icons, and click events.
    *   Adding setters and getters for `shouldShowSpecialNotification` and `accountId` in `ListNotificationViewModel`.
    *   Suggesting renaming `NotificationBurstItem` to `SafeNotificationItem`.
*   **App Review and Rating Prompt:** A system for managing when an app review prompt should be displayed is described. Key rules include resetting the counter for 90 days after the prompt is shown, starting incrementation again after this period, and continuously incrementing if the prompt hasn't been shown.
*   **App Review TODOs/Questions:** This section highlights tasks to test the existing app review code, refactor `AppReviewManager` and `AppStore`, and addresses various design and implementation questions. Answered questions clarify that assets should be added to 3 tickets (valid for changes/closing), agents can create tickets, detecting "different" is not needed, data loss on uninstall is acceptable, refactoring warrants a separate PR, and user on-call status is not relevant for incrementing the counter (just `ShiftEventActivity` opening). It also specifies using shared preferences for counts (not account-wise) and moving prompt logic to `AppReviewManager` to show it on any screen. Specific todos include immediate display on logic achievement and not incrementing for browser cases with solution articles.
*   **Miscellaneous:** Brief mentions of replacing PNGs with SVGs (commit not yet pushed) and handling rotation within "MDM Browser Config" are also included.

**Patterns and Recurring Elements:**

*   The text frequently uses "Todo / suggestions" and "Questions" to categorize action items and discussions, often with a "*-" or "- " prefix for individual points.
*   There's a consistent pattern of outlining a feature's core logic, followed by a list of improvements, questions, and clarifications related to that feature.
*   The content shows a detailed thought process, including specific examples and acceptance criteria checks for the notification burst logic, indicating a design or grooming phase.
*   The "Answered / Unanswered" sub-sections under "Questions" provide clear status updates on design decisions.